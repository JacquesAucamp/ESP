http://www.emcu.eu/how-to-use-adc-in-interrupt-mode/
